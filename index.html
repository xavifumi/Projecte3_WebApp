<!DOCTYPE html>
<html>
    <head>
        <link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet" />
        <link href="./css/main.css" rel="stylesheet" />
        <title>Pagina Setup - Projecte 3 - Aplicació Interactiva</title>
        <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/icon?family=Material+Symbols+Outlined" rel="stylesheet">
        <script type="importmap">
          {
            "imports": {
              "@material/web/": "https://esm.run/@material/web/"
            }
          }
        </script>
        <script type="module">
          import '@material/web/all.js';
          import {styles as typescaleStyles} from '@material/web/typography/md-typescale-styles.js';
      
          document.adoptedStyleSheets.push(typescaleStyles.styleSheet);
        </script>

    </head>
    <body>
        <header>
            <h1>vMix Futbol Control - <span id="titolPagina">MAIN</span> </h1>
            <nav>
              <md-tabs>
                <md-primary-tab onclick="pageMain.style.display = 'none'; pageSetup.style.display = 'flex'; pageResum.style.display = 'none'; titolPagina.innerHTML ='SETUP';">
                  <md-icon slot="icon">settings</md-icon>
                  Setup</md-primary-tab>
                <md-primary-tab active onclick="pageMain.style.display = 'flex'; pageSetup.style.display = 'none'; pageResum.style.display = 'none'; titolPagina.innerHTML ='MAIN';">
                  <md-icon slot="icon">star</md-icon>
                  Partit</md-primary-tab>
                <md-primary-tab onclick="pageMain.style.display = 'none'; pageSetup.style.display = 'none'; pageResum.style.display = 'flex'; titolPagina.innerHTML ='RESUM';">
                  <md-icon slot="icon">history</md-icon>
                  Resum</md-primary-tab>
              </md-tabs>
            </nav>
        </header>
        <main>

          <!-- 
          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
          @@@@@@@@@@@@@@@@@@@@@@@@@@ PAG MAIN @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
        -->

          <article id="pageMain">
            <div class="flex row alignCenter sizeBig">
              <div id="temps" >
                <div id="timer" class="lightRound outlined">
                  <span data-chronometer>00:00</span>
                </div>
              </div>
              <md-fab onclick="startTimer()"; psTimer.style.display='inline-flex'; stTimer.style.display='none' id="play" class="alignCenter" size="small" touch-target="none" aria-label="Play timer">
                <md-icon slot="icon">play_arrow</md-icon>
              </md-fab>
              <md-fab onclick="pauseTimer()"; psTimer.style.display='none'; stTimer.style.display='inline-flex' id="pause" class="alignCenter" size="small" touch-target="none" aria-label="Pause timer" style="display: none;">
                <md-icon slot="icon">pause</md-icon>
              </md-fab>
            </div>
            <div id="equips" class="row alignCenter sizeBig ">
              <!--

                <div id="equip1" class="lightRound outlined flex">
                  <span class="alignCenter">Nom Equip 1</span>
                </div>
              -->
              <md-fab onclick=""; id="editarEquip0" class="alignCenter" size="small" touch-target="none" aria-label="Edita jugadors seleccionats">
                <md-icon slot="icon">person_add</md-icon>
              </md-fab>
              <md-outlined-select id="equipLocal" label="Equip Local" onchange="seleccioEquips('0')">
              </md-outlined-select>
              <div id="resultat" class="lightRound outlined sizeBigger">
                <span>0 - 0</span>
              </div>
              <!--
                <div id="equip2" class="lightRound outlined flex">
                  <span class="alignCenter">Nom Equip 2</span>
                </div>
              -->
              <md-outlined-select id="equipVisitant" label="Equip Visitant" onchange="seleccioEquips('1')">
              </md-outlined-select>
              <md-fab onclick=""; id="editarEquip1" class="alignCenter" size="small" touch-target="none" aria-label="Edita jugadors seleccionats">
                <md-icon slot="icon">person_add</md-icon>
              </md-fab>
            </div>
            <div class="row" style="margin-top: 0; padding-top: 0;">
              <div class="meitatHoritzontal flex column wrap alignEnd" style="margin-top: 0; padding-top: 0;">
                <p id="entrenador0">Entrenador</p>
                <md-list class="alineacio" id="alineacio0" >
                  <md-list-item>
                    <div slot="headline"></div>
                    <div slot="start" style="width: 2em; font-size: 1.2em; font-weight: 800;"></div>
                  </md-list-item>
                  <md-list-item>
                    <div slot="headline"></div>
                    <div slot="start" style="width: 2em; font-size: 1.2em; font-weight: 800;"></div>
                  </md-list-item>
                  <md-list-item>
                    <div slot="headline"></div>
                    <div slot="start" style="width: 2em; font-size: 1.2em; font-weight: 800;"></div>
                  </md-list-item>
                  <md-list-item>
                    <div slot="headline"></div>
                    <div slot="start" style="width: 2em; font-size: 1.2em; font-weight: 800;"></div>
                  </md-list-item>
                  <md-list-item>
                    <div slot="headline"></div>
                    <div slot="start" style="width: 2em; font-size: 1.2em; font-weight: 800;"></div>
                  </md-list-item>
                  <md-list-item>
                    <div slot="headline"></div>
                    <div slot="start" style="width: 2em; font-size: 1.2em; font-weight: 800;"></div>
                  </md-list-item>
                  <md-list-item>
                    <div slot="headline"></div>
                    <div slot="start" style="width: 2em; font-size: 1.2em; font-weight: 800;"></div>
                  </md-list-item>
                  <md-list-item>
                    <div slot="headline"></div>
                    <div slot="start" style="width: 2em; font-size: 1.2em; font-weight: 800;"></div>
                  </md-list-item>
                  <md-list-item>
                    <div slot="headline"></div>
                    <div slot="start" style="width: 2em; font-size: 1.2em; font-weight: 800;"></div>
                  </md-list-item>
                  <md-list-item>
                    <div slot="headline"></div>
                    <div slot="start" style="width: 2em; font-size: 1.2em; font-weight: 800;"></div>
                  </md-list-item>
                  <md-list-item>
                    <div slot="headline"></div>
                    <div slot="start" style="width: 2em; font-size: 1.2em; font-weight: 800;"></div>
                  </md-list-item>
                </md-list>
                <md-filled-button id="buttonAccio0" class="widthMeitat" disabled onclick="
                document.getElementById('selectAccioEquip0').checked = true; 
                filtraJugadorsAccio('llistaJugadorsEquip0');dialog.querySelector('[type=submit]').onclick=function(){desaAccio()};
                dialog.show()">Afegir acció<md-icon slot="icon">add</md-icon></md-filled-button>
  
              </div>
              <div class="meitatHoritzontal flex column wrap aligStart" style="margin-top: 0; padding-top: 0;">
                <p id="entrenador1" >Entrenador</p>
                <md-list class="alineacio" id="alineacio1" >
                  <md-list-item>
                    <div slot="headline"></div>
                    <div slot="start" style="width: 2em; font-size: 1.2em; font-weight: 800;"></div>
                  </md-list-item>
                  <md-list-item>
                    <div slot="headline"></div>
                    <div slot="start" style="width: 2em; font-size: 1.2em; font-weight: 800;"></div>
                  </md-list-item>
                  <md-list-item>
                    <div slot="headline"></div>
                    <div slot="start" style="width: 2em; font-size: 1.2em; font-weight: 800;"></div>
                  </md-list-item>
                  <md-list-item>
                    <div slot="headline"></div>
                    <div slot="start" style="width: 2em; font-size: 1.2em; font-weight: 800;"></div>
                  </md-list-item>
                  <md-list-item>
                    <div slot="headline"></div>
                    <div slot="start" style="width: 2em; font-size: 1.2em; font-weight: 800;"></div>
                  </md-list-item>
                  <md-list-item>
                    <div slot="headline"></div>
                    <div slot="start" style="width: 2em; font-size: 1.2em; font-weight: 800;"></div>
                  </md-list-item>
                  <md-list-item>
                    <div slot="headline"></div>
                    <div slot="start" style="width: 2em; font-size: 1.2em; font-weight: 800;"></div>
                  </md-list-item>
                  <md-list-item>
                    <div slot="headline"></div>
                    <div slot="start" style="width: 2em; font-size: 1.2em; font-weight: 800;"></div>
                  </md-list-item>
                  <md-list-item>
                    <div slot="headline"></div>
                    <div slot="start" style="width: 2em; font-size: 1.2em; font-weight: 800;"></div>
                  </md-list-item>
                  <md-list-item>
                    <div slot="headline"></div>
                    <div slot="start" style="width: 2em; font-size: 1.2em; font-weight: 800;"></div>
                  </md-list-item>
                  <md-list-item>
                    <div slot="headline"></div>
                    <div slot="start" style="width: 2em; font-size: 1.2em; font-weight: 800;"></div>
                  </md-list-item>
                </md-list>
                <md-filled-button id="buttonAccio1" class="widthMeitat" disabled onclick="
                document.getElementById('selectAccioEquip1').checked = true;dialog.querySelector('[type=submit]').onclick=function(){desaAccio()};
                filtraJugadorsAccio('llistaJugadorsEquip1');
                document.getElementById('afegirAccio').show()">Afegir acció<md-icon slot="icon">add</md-icon></md-filled-button>
              </div>
            </div>
          </article>

          <!-- 
          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
          @@@@@@@@@@@@@@@@@@@@@@@@@@ PAG SETUP @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
        -->


          <article id="pageSetup" style="display: none;">
            <div class="row">
              <div class="meitatHoritzontal dosColors">
                  <h2>Configuració vMix:</h2>
                  <md-divider></md-divider>
                  <div id="connexioVMIX">
                      <md-outlined-text-field label="IP vMix" id="inputIpVmix" value="" type="text" minlength="7" size="15" pattern="^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])$"                      >
                      </md-outlined-text-field>
                      <md-fab id="acceptConnection" class="alignCenter" size="small" touch-target="none" aria-label="Check" onclick="ipVmix=document.getElementById('inputIpVmix').value;obtenirDadesVmix(ipVmix);">
                          <md-icon slot="icon">check</md-icon>
                      </md-fab>
                  </div>
                  <div id="configuracioEscenes">
                      <p>Sel·lecció d'escenes:</p>
                      <ul>
                          <li>
                              <md-outlined-select label="Grafisme alineació">
                                </md-outlined-select>
                          </li>
                          <li>
                              <md-outlined-select label="Grafisme Gol">
                                </md-outlined-select>
                          </li>
                          <li>
                              <md-outlined-select label="Grafisme Targeta">
                                </md-outlined-select>
                          </li>
                          <li>
                              <md-outlined-select label="Grafisme Canvi">
                                </md-outlined-select>
                          </li>
                          <li>
                              <md-outlined-select label="Grafisme final">
                                </md-outlined-select>
                          </li>
                          <li>
                            <md-outlined-select label="Mosca partit">
                              </md-outlined-select>
                        </li>
                      </ul>
                    </div>
                    <md-filled-button class="final" onclick="desaDadesVmix()">Desa<md-icon slot="icon">save</md-icon></md-filled-button>
              </div>
              <div class="meitatHoritzontal dosColors">
                  <h2>Configuració Equips:</h2>
                  <md-divider></md-divider>
                  <div id="graellaEquips">
                  </div>
                  <md-filled-button class="final" onclick="dialogAfegirEquip.show()">Afegeix<md-icon slot="icon">add</md-icon></md-filled-button>
              </div>
            </div>
          </article>
          <script>

            
          </script>

          <!-- 
          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
          @@@@@@@@@@@@@@@@@@@@@@@@@@ PAG RESUM @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
        -->

          <article id="pageResum" style="display: none;">
            <div id="temps" class="row alignCenter sizeBig">
              <div id="timer" class="lightRound outlined">
                  <span data-chronometer>00:00</span>
                </div>
          </div>
          <div id="equips" class="row alignCenter sizeBig ">
            <div id="equip1" class="lightRound outlined flex">
              <span class="alignCenter">Nom Equip 1</span>
            </div>
            <div id="resultat" class="lightRound outlined sizeBigger">
              <span>0 - 0</span>
            </div>
            <div id="equip2" class="lightRound outlined flex">
              <span class="alignCenter">Nom Equip 2</span>
            </div>
          </div>
          <div class="flex alignCenter">
            <ul class="resum flex column" id="graellaResum">
              <!--

                <li>
                  <span class="timecode">5'</span>
                  <span class="icona">⚽</span>
                  <span class="jugador">Jugador1</span>
                  <span class="resultat">0-1</span>
                  <span class="icona"></span>
                  <span class="jugador"></span>
                  <md-icon slot="icon">Cancel</md-icon>
                </li>
                <li>
                  <span class="timecode">5'</span>
                  <span class="icona"></span>
                  <span class="jugador"></span>
                  <span class="resultat">1-1</span>
                  <span class="icona">⚽</span>
                  <span class="jugador">Jugador2</span>
                  <md-icon slot="icon">Cancel</md-icon>
                </li>
              -->
              
            </ul>
          </div>
            </article>

        </main>

        <!-- 
          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
          @@@@@@@@@@@@@@@@@@@@@@@@@@ DIALOGS @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
        -->

        <md-dialog id="afegirEquip">
          <md-outlined-text-field id="nomEquip" slot="headline" label="Nom Equip"  type="text" minlength="5" required>
          </md-outlined-text-field>
          <md-outlined-text-field id="abreviEquip" slot="headline" label="Abreviatura Equip"  type="text" minlength="3" maxlength="4" class="abreviatura" style="text-transform:uppercase" required>
          </md-outlined-text-field>
          <form slot="content" id="form-equip"  class="flex column gap1"> 
            <md-outlined-text-field id="nomEntrenador" label="Entrenador"  type="text" minlength="5" required>
            </md-outlined-text-field>
            <div class="flex row introJugador" id="llistaJugadors">
              <md-outlined-text-field class="dorsal" label="Dor." value="" placeholder="00" type="text" minlength="1" oninput="validarDorsal(this)">
              </md-outlined-text-field>
              <md-outlined-text-field class="jugador" label="Jugador" value="" placeholder="Nom Jugador" type="text" minlength="1" oninput="validarNomPropi(this)">
              </md-outlined-text-field>
            </div>
            <md-filled-button id="botoAfegirNouJugador" type="button" onclick="afegirJugador('form-jugadors')">
              Afegeix
              <md-icon slot="icon">add</md-icon>
            </md-filled-button>
          </form>
          <div slot="actions">
            <md-text-button type= "submit" id="accept" form="form-equip" >Ok</md-text-button>
            <md-text-button form="form-equip" onclick="dialogAfegirEquip.close()">Cancel</md-text-button>
          </div>
        </md-dialog>
        <script> 
          let dialogAfegirEquip = document.getElementById("afegirEquip");
        </script> 

  <md-dialog id="editarEquip">
    <md-outlined-text-field id="nomEquipEditar" slot="headline" label="Nom Equip" value="Nom del Equip" type="text" minlength="5"required>
    </md-outlined-text-field>
    <md-outlined-text-field id="abreviEquipEditar" slot="headline" label="Abreviatura Equip"  type="text" minlength="3" maxlength="4" class="abreviatura" style="text-transform:uppercase"required >
    </md-outlined-text-field>
    <form slot="content" id="form-editar" class="flex column gap1"> 
      <md-outlined-text-field id="nomEntrenadorEditar" label="Entrenador" value="Entrenador" type="text" minlength="5" oninput="validarNomPropi(this)" required>
      </md-outlined-text-field> 
      <div class="flex row introJugador" id="llistaJugadors">
        <md-outlined-text-field class="dorsal" label="Dor." value="" placeholder="00" type="text" minlength="1" pattern="\\d+" oninput="validarDorsal(this)">
        </md-outlined-text-field>
        <md-outlined-text-field class="jugador" label="Jugador" value="" placeholder="Nom Jugador" type="text" minlength="2" oninput="validarNomPropi(this)">
        </md-outlined-text-field>
        <md-checkbox touch-target="wrapper" class="seleccionat" onchange="limitarCheckboxes(this)"></md-checkbox>
      </div>
      <md-filled-button id="botoAfegirNouJugador" type="button" onclick="afegirJugador('form-editar')">
        Afegeix
        <md-icon slot="icon">add</md-icon></md-filled-button>
      </form>
      <div slot="actions">
        <md-text-button type= "submit" id="accept" form="form-editar" onclick="actualitzaEquip()">Ok</md-text-button>
        <md-text-button form="form-editar" onclick="dialogEditarEquip.close()">Cancel</md-text-button>
      </div>
    </md-dialog>
    <script> 
      let dialogEditarEquip = document.getElementById("editarEquip")
    </script>
    
    
    <md-dialog id="afegirAccio">
      <md-tabs slot="headline" id="tabsAccio">
        <md-primary-tab onclick="presetGol()">
          <span slot="icon">⚽</span>
          Gol
        </md-primary-tab>
        <md-primary-tab onclick="presetTargeta()">
          <span slot="icon">🟨</span>
          Targeta
        </md-primary-tab>
        <md-primary-tab onclick="presetCanvi()">
          <span slot="icon">🔃</span>
          Canvi
        </md-primary-tab>
        <md-primary-tab onclick="presetLesio()">
          <span slot="icon">🚑</span>
          Lesió
        </md-primary-tab>
      </md-tabs>
            <form slot="content" id="form-accio" method="dialog" >
              <div class="flex column gap1">
                <div>
                  <md-radio id="selectAccioEquip0" name="selectEquipAccio" value="0" aria-label="Acció de equip local"  onclick="filtraJugadorsAccio('llistaJugadorsEquip0')"></md-radio>
                    <label for="selectAccioEquip0">Equip 1</label>
                </div>
                <div>
                  <md-radio id="selectAccioEquip1" name="selectEquipAccio" value="1" aria-label="Acció de equip visitant" onclick="filtraJugadorsAccio('llistaJugadorsEquip1')"></md-radio>
                  <label for="selectAccioEquip1">Equip 2</label>        
                </div>
                <md-outlined-select label="Sel·lecciona jugador" id="selectJugador1" class="selectJugador">
                  
                </md-outlined-select>

                <md-outlined-select label="Jugador sortida" id="selectJugador2" class="selectJugador amaga">
                  
                </md-outlined-select>
                <div>
                  <md-radio id="selectTargetaGroga" class="selectTargeta amaga" name="selectTargeta" value="1" aria-label="Targeta groga" onclick=""></md-radio>
                    <label for="selectTargetaGroga" class="selectTargeta amaga">Tarja Groga</label>
                </div>
                <div>
                  <md-radio id="selectTargetaVermella" class="selectTargeta amaga" name="selectTargeta" value="2" aria-label="Targeta vermella" onclick=""></md-radio>
                  <label for="selectTargetaVermella" class="selectTargeta amaga">Tarja Vermella</label>        
                </div>
              </div>
            </form>
            <div slot="actions">
              <md-text-button form="form-accio" type="submit" onclick="desaAccio()">Ok</md-text-button>
              <md-text-button form="form-accio" onclick="dialog.close()">Cancel</md-text-button>
            </div>
        </md-dialog> 
        <script> let dialog = document.getElementById("afegirAccio")</script>
    </body>
    <script type="application/javascript" src="./js/javascript.js"></script>
</html>